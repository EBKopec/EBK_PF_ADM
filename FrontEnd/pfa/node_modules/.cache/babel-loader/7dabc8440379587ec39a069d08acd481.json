{"ast":null,"code":"var _jsxFileName = \"E:\\\\Projetos\\\\Portal\\\\PF\\\\EBK_PF_Adm\\\\FrontEnd\\\\pfa\\\\src\\\\components\\\\pages\\\\body\\\\keepUnity\\\\keepUnity.js\";\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport Menu from \"../../menu/menu\";\nimport { Form, Container } from \"./styles\";\nimport Select from 'react-select';\nimport api from \"../../../services/api\";\n\nclass keepUnity extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      // console.log(\"Data\", this.state.data);\n      this.unity(); // this.pendentGroup();\n    };\n\n    this.localChange = localSelected => {\n      // const { user_group_id, ...data } = this.state;\n      // console.log('Estado ', data.linha);\n      this.setState({\n        localSelected\n      });\n      console.log(`Local Selected: `, localSelected);\n    };\n\n    this.setorChange = setorSelected => {\n      this.setState({\n        setorSelected\n      });\n      console.log(`Setor Selected: `, setorSelected);\n    };\n\n    this.unity = async e => {\n      let locals = [];\n      let setores = [];\n      const local = await api.get(`/local`);\n      const setor = await api.get(`/setor`); // console.log(local);\n\n      locals = local.data.map(id_local => {\n        return {\n          value: id_local.id_local,\n          label: id_local.descricao_local\n        };\n      });\n      setores = setor.data.map(id_setor => {\n        return {\n          value: id_setor.id_setor,\n          label: id_setor.descricao_setor\n        };\n      }); // console.log(\"Years\", ano);\n\n      this.setState({\n        locals: locals,\n        setores: setores\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const {\n        local,\n        setor\n      } = this.state; // console.log(`Validacao ${linha}, ${user_group_id.value}, ${tipo_linha}, ${data_envio_nova}, ${status}`)\n\n      if (!local) {\n        alert(\"Favor Preencher o Local!\");\n      } else {\n        try {\n          // let dest_setor = setor === null  ? 'Sem Setor' : setor;\n          // const post = \n          await api.post(\"/setlocal\", {\n            descricao_local: local\n          });\n\n          if (setor !== null) {\n            await api.post(\"/setsetor\", {\n              descricao_setor: setor\n            });\n          } // const { data } = post;\n\n\n          alert(`Unidade ${local} - ${setor} cadastrado com sucesso!`); // this.setState({local:null, setor:null});\n\n          window.location.reload();\n        } catch (err) {\n          console.log(err);\n          alert(\"Ocorreu um erro ao registrar o local\");\n        }\n      }\n    };\n\n    this.state = {\n      local: null,\n      setor: null,\n      localSelected: null,\n      setorSelected: null,\n      locals: [],\n      setores: []\n    };\n  }\n\n  render() {\n    const {\n      locals,\n      localSelected,\n      setores,\n      setorSelected\n    } = this.state; // console.log(\"Info\", info, groupSelected);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mainDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \"Manter Tipo de Liga\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"formExt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, \"Local\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Local\",\n      onChange: e => this.setState({\n        local: e.target.value\n      }),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    }, \"Setor\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Setor\",\n      onChange: e => this.setState({\n        setor: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 29\n      }\n    }, \"Cadastrar\")), /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, \"Local\"), /*#__PURE__*/React.createElement(Select, {\n      className: \"selected\",\n      value: localSelected,\n      onChange: this.localChange,\n      options: locals,\n      maxMenuHeight: 150,\n      placeholder: \"Selecione o Local\",\n      isSearchable: true,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }, \"Setor\"), /*#__PURE__*/React.createElement(Select, {\n      className: \"selected\",\n      value: setorSelected,\n      onChange: this.setorChange,\n      options: setores,\n      maxMenuHeight: 150,\n      placeholder: \"Selecione o Setor\",\n      isSearchable: true,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 29\n      }\n    }, \"Associar\")))));\n  }\n\n}\n\nexport default withRouter(keepUnity);","map":{"version":3,"sources":["E:/Projetos/Portal/PF/EBK_PF_Adm/FrontEnd/pfa/src/components/pages/body/keepUnity/keepUnity.js"],"names":["React","Component","withRouter","Menu","Form","Container","Select","api","keepUnity","constructor","props","componentDidMount","unity","localChange","localSelected","setState","console","log","setorChange","setorSelected","e","locals","setores","local","get","setor","data","map","id_local","value","label","descricao_local","id_setor","descricao_setor","handleSubmit","preventDefault","state","alert","post","window","location","reload","err","render","target"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Menu from \"../../menu/menu\";\r\nimport { Form, Container } from \"./styles\";\r\nimport Select from 'react-select';\r\nimport api from \"../../../services/api\";\r\n\r\n\r\nclass keepUnity extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            local: null,\r\n            setor: null,\r\n            localSelected: null,\r\n            setorSelected: null,\r\n            locals: [],\r\n            setores: [],\r\n        };\r\n    }\r\n    componentDidMount = () => {\r\n        // console.log(\"Data\", this.state.data);\r\n        this.unity();\r\n        // this.pendentGroup();\r\n    }\r\n\r\n\r\n    localChange = localSelected => {\r\n        // const { user_group_id, ...data } = this.state;\r\n        // console.log('Estado ', data.linha);\r\n        this.setState({ localSelected });\r\n        console.log(`Local Selected: `, localSelected );\r\n    };\r\n\r\n    setorChange = setorSelected => {\r\n        this.setState({setorSelected});\r\n        console.log(`Setor Selected: `, setorSelected );\r\n    }\r\n\r\n    unity = async (e) => {\r\n        let locals = [];\r\n        let setores = [];\r\n\r\n        const local = await api.get(`/local`);\r\n        const setor = await api.get(`/setor`);\r\n        // console.log(local);\r\n        locals = local.data.map((id_local) => { return { value: id_local.id_local, label: id_local.descricao_local } });\r\n        setores = setor.data.map((id_setor) => { return { value: id_setor.id_setor, label: id_setor.descricao_setor }})\r\n        // console.log(\"Years\", ano);\r\n        this.setState({ locals: locals, setores: setores });\r\n    }\r\n\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const { local, setor } = this.state;\r\n        // console.log(`Validacao ${linha}, ${user_group_id.value}, ${tipo_linha}, ${data_envio_nova}, ${status}`)\r\n        if (!local) {\r\n            alert(\"Favor Preencher o Local!\");\r\n        } else {\r\n            try {\r\n                // let dest_setor = setor === null  ? 'Sem Setor' : setor;\r\n                // const post = \r\n                await api.post(\"/setlocal\", { descricao_local:local});\r\n                if (setor !== null){\r\n                    await api.post(\"/setsetor\", { descricao_setor:setor});\r\n                }\r\n\r\n                // const { data } = post;\r\n                alert(`Unidade ${local} - ${setor} cadastrado com sucesso!`);\r\n                // this.setState({local:null, setor:null});\r\n                window.location.reload(); \r\n\r\n            } catch (err) {\r\n                console.log(err);\r\n                alert(\"Ocorreu um erro ao registrar o local\");\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const { locals, localSelected, setores, setorSelected } = this.state;\r\n        // console.log(\"Info\", info, groupSelected);\r\n\r\n        return (\r\n            <div className=\"mainDiv\">\r\n                <div className=\"menu\">\r\n                    <Menu />\r\n                </div>\r\n                <p>Manter Tipo de Ligações</p>\r\n                <div className=\"formExt\">\r\n                    <Container>\r\n\r\n                        <Form onSubmit={this.handleSubmit}>\r\n                            <a>Local</a>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Local\"\r\n                                onChange={e => this.setState({ local: e.target.value })}\r\n                                required\r\n                            />\r\n                            <a>Setor</a>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Setor\"\r\n                                onChange={e => this.setState({ setor: e.target.value })}\r\n                            />\r\n                            <button type=\"submit\">Cadastrar</button>\r\n                        </Form>\r\n                        <Form onSubmit={this.handleSubmit}>\r\n                        <a>Local</a>\r\n                        <Select\r\n                                className=\"selected\"\r\n                                value={localSelected}\r\n                                onChange={this.localChange}\r\n                                options={locals}\r\n                                maxMenuHeight={150}\r\n                                placeholder=\"Selecione o Local\"\r\n                                isSearchable \r\n                                required\r\n                                />\r\n                        <a>Setor</a>\r\n                        <Select\r\n                                className=\"selected\"\r\n                                value={setorSelected}\r\n                                onChange={this.setorChange}\r\n                                options={setores}\r\n                                maxMenuHeight={150}\r\n                                placeholder=\"Selecione o Setor\"\r\n                                isSearchable \r\n                                required\r\n                                />\r\n                            <button type=\"submit\">Associar</button>\r\n                        </Form>\r\n                        \r\n                    </Container>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(keepUnity);"]},"metadata":{},"sourceType":"module"}