{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _includes from \"lodash/includes\";\nimport _compact from \"lodash/compact\";\nimport _map from \"lodash/map\";\nimport _every from \"lodash/every\";\nimport _without from \"lodash/without\";\nimport _find from \"lodash/find\";\nimport _dropRight from \"lodash/dropRight\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _size from \"lodash/size\";\nimport _difference from \"lodash/difference\";\nimport _union from \"lodash/union\";\nimport _get from \"lodash/get\";\nimport _noop from \"lodash/noop\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _invoke from \"lodash/invoke\";\nimport _has from \"lodash/has\";\nimport _isEqual from \"lodash/isEqual\";\nimport _isFunction from \"lodash/isFunction\";\nimport _pick from \"lodash/pick\";\nimport _isNil from \"lodash/isNil\";\nimport EventStack from '@semantic-ui-react/event-stack';\nimport { Ref } from '@stardust-ui/react-component-ref';\nimport cx from 'clsx';\nimport keyboardKey from 'keyboard-key';\nimport PropTypes from 'prop-types';\nimport React, { Children, cloneElement, createRef } from 'react';\nimport shallowEqual from 'shallowequal';\nimport { ModernAutoControlledComponent as Component, childrenUtils, customPropTypes, doesNodeContainClick, getElementType, getUnhandledProps, objectDiff, useKeyOnly, useKeyOrValueAndKey } from '../../lib';\nimport Icon from '../../elements/Icon';\nimport Label from '../../elements/Label';\nimport Flag from '../../elements/Flag';\nimport Image from '../../elements/Image';\nimport DropdownDivider from './DropdownDivider';\nimport DropdownItem from './DropdownItem';\nimport DropdownHeader from './DropdownHeader';\nimport DropdownMenu from './DropdownMenu';\nimport DropdownSearchInput from './DropdownSearchInput';\nimport DropdownText from './DropdownText';\nimport getMenuOptions from './utils/getMenuOptions';\nimport getSelectedIndex from './utils/getSelectedIndex';\n\nvar getKeyOrValue = function getKeyOrValue(key, value) {\n  return _isNil(key) ? value : key;\n};\n\nvar getKeyAndValues = function getKeyAndValues(options) {\n  return options ? options.map(function (option) {\n    return _pick(option, ['key', 'value']);\n  }) : options;\n};\n\nfunction renderItemContent(item) {\n  var flag = item.flag,\n      image = item.image,\n      text = item.text; // TODO: remove this in v2\n  // This maintains compatibility with Shorthand API in v1 as this might be called in \"Label.create()\"\n\n  if ( /*#__PURE__*/React.isValidElement(text) || _isFunction(text)) {\n    return text;\n  }\n\n  return {\n    content: /*#__PURE__*/React.createElement(React.Fragment, null, Flag.create(flag), Image.create(image), text)\n  };\n}\n/**\n * A dropdown allows a user to select a value from a series of options.\n * @see Form\n * @see Select\n * @see Menu\n */\n\n\nvar Dropdown = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Dropdown, _Component);\n\n  function Dropdown() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.searchRef = /*#__PURE__*/createRef();\n    _this.sizerRef = /*#__PURE__*/createRef();\n    _this.ref = /*#__PURE__*/createRef();\n\n    _this.handleChange = function (e, value) {\n      _invoke(_this.props, 'onChange', e, _extends({}, _this.props, {\n        value: value\n      }));\n    };\n\n    _this.closeOnChange = function (e) {\n      var _this$props = _this.props,\n          closeOnChange = _this$props.closeOnChange,\n          multiple = _this$props.multiple;\n      var shouldClose = _isUndefined(closeOnChange) ? !multiple : closeOnChange;\n\n      if (shouldClose) {\n        _this.close(e, _noop);\n      }\n    };\n\n    _this.closeOnEscape = function (e) {\n      if (!_this.props.closeOnEscape) return;\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n\n      _this.close(e);\n    };\n\n    _this.moveSelectionOnKeyDown = function (e) {\n      var _moves;\n\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          selectOnNavigation = _this$props2.selectOnNavigation;\n      var open = _this.state.open;\n\n      if (!open) {\n        return;\n      }\n\n      var moves = (_moves = {}, _moves[keyboardKey.ArrowDown] = 1, _moves[keyboardKey.ArrowUp] = -1, _moves);\n      var move = moves[keyboardKey.getCode(e)];\n\n      if (move === undefined) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var nextIndex = _this.getSelectedIndexAfterMove(move);\n\n      if (!multiple && selectOnNavigation) {\n        _this.makeSelectedItemActive(e, nextIndex);\n      }\n\n      _this.setState({\n        selectedIndex: nextIndex\n      });\n    };\n\n    _this.openOnSpace = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Spacebar) return;\n      e.preventDefault();\n\n      _this.open(e);\n    };\n\n    _this.openOnArrow = function (e) {\n      var _this$state = _this.state,\n          focus = _this$state.focus,\n          open = _this$state.open;\n\n      if (focus && !open) {\n        var code = keyboardKey.getCode(e);\n\n        if (code === keyboardKey.ArrowDown || code === keyboardKey.ArrowUp) {\n          e.preventDefault();\n\n          _this.open(e);\n        }\n      }\n    };\n\n    _this.makeSelectedItemActive = function (e, selectedIndex) {\n      var _this$state2 = _this.state,\n          open = _this$state2.open,\n          value = _this$state2.value;\n      var multiple = _this.props.multiple;\n\n      var item = _this.getSelectedItem(selectedIndex);\n\n      var selectedValue = _get(item, 'value'); // prevent selecting null if there was no selected item value\n      // prevent selecting duplicate items when the dropdown is closed\n\n\n      if (_isNil(selectedValue) || !open) {\n        return value;\n      } // state value may be undefined\n\n\n      var newValue = multiple ? _union(value, [selectedValue]) : selectedValue;\n      var valueHasChanged = multiple ? !!_difference(newValue, value).length : newValue !== value;\n\n      if (valueHasChanged) {\n        // notify the onChange prop that the user is trying to change value\n        _this.setState({\n          value: newValue\n        });\n\n        _this.handleChange(e, newValue); // Heads up! This event handler should be called after `onChange`\n        // Notify the onAddItem prop if this is a new value\n\n\n        if (item['data-additional']) {\n          _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, {\n            value: selectedValue\n          }));\n        }\n      }\n\n      return value;\n    };\n\n    _this.selectItemOnEnter = function (e) {\n      var search = _this.props.search;\n      var _this$state3 = _this.state,\n          open = _this$state3.open,\n          selectedIndex = _this$state3.selectedIndex;\n\n      if (!open) {\n        return;\n      }\n\n      var shouldSelect = keyboardKey.getCode(e) === keyboardKey.Enter || // https://github.com/Semantic-Org/Semantic-UI-React/pull/3766\n      !search && keyboardKey.getCode(e) === keyboardKey.Spacebar;\n\n      if (!shouldSelect) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var optionSize = _size(getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      }));\n\n      if (search && optionSize === 0) {\n        return;\n      }\n\n      var nextValue = _this.makeSelectedItemActive(e, selectedIndex); // This is required as selected value may be the same\n\n\n      _this.setState({\n        selectedIndex: getSelectedIndex({\n          additionLabel: _this.props.additionLabel,\n          additionPosition: _this.props.additionPosition,\n          allowAdditions: _this.props.allowAdditions,\n          deburr: _this.props.deburr,\n          multiple: _this.props.multiple,\n          search: _this.props.search,\n          selectedIndex: selectedIndex,\n          value: nextValue,\n          options: _this.props.options,\n          searchQuery: ''\n        })\n      });\n\n      _this.closeOnChange(e);\n\n      _this.clearSearchQuery();\n\n      if (search) {\n        _invoke(_this.searchRef.current, 'focus');\n      }\n    };\n\n    _this.removeItemOnBackspace = function (e) {\n      var _this$props3 = _this.props,\n          multiple = _this$props3.multiple,\n          search = _this$props3.search;\n      var _this$state4 = _this.state,\n          searchQuery = _this$state4.searchQuery,\n          value = _this$state4.value;\n      if (keyboardKey.getCode(e) !== keyboardKey.Backspace) return;\n      if (searchQuery || !search || !multiple || _isEmpty(value)) return;\n      e.preventDefault(); // remove most recent value\n\n      var newValue = _dropRight(value);\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.closeOnDocumentClick = function (e) {\n      if (!_this.props.closeOnBlur) return; // If event happened in the dropdown, ignore it\n\n      if (_this.ref.current && doesNodeContainClick(_this.ref.current, e)) return;\n\n      _this.close();\n    };\n\n    _this.handleMouseDown = function (e) {\n      _this.isMouseDown = true;\n\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n\n      document.addEventListener('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleDocumentMouseUp = function () {\n      _this.isMouseDown = false;\n      document.removeEventListener('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleClick = function (e) {\n      var _this$props4 = _this.props,\n          minCharacters = _this$props4.minCharacters,\n          search = _this$props4.search;\n      var _this$state5 = _this.state,\n          open = _this$state5.open,\n          searchQuery = _this$state5.searchQuery;\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent closeOnDocumentClick()\n\n\n      e.stopPropagation();\n      if (!search) return _this.toggle(e);\n\n      if (open) {\n        _invoke(_this.searchRef.current, 'focus');\n\n        return;\n      }\n\n      if (searchQuery.length >= minCharacters || minCharacters === 1) {\n        _this.open(e);\n\n        return;\n      }\n\n      _invoke(_this.searchRef.current, 'focus');\n    };\n\n    _this.handleIconClick = function (e) {\n      var clearable = _this.props.clearable;\n\n      var hasValue = _this.hasValue();\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent handleClick()\n\n\n      e.stopPropagation();\n\n      if (clearable && hasValue) {\n        _this.clearValue(e);\n      } else {\n        _this.toggle(e);\n      }\n    };\n\n    _this.handleItemClick = function (e, item) {\n      var _this$props5 = _this.props,\n          multiple = _this$props5.multiple,\n          search = _this$props5.search;\n      var currentValue = _this.state.value;\n      var value = item.value; // prevent toggle() in handleClick()\n\n      e.stopPropagation(); // prevent closeOnDocumentClick() if multiple or item is disabled\n\n      if (multiple || item.disabled) {\n        e.nativeEvent.stopImmediatePropagation();\n      }\n\n      if (item.disabled) {\n        return;\n      }\n\n      var isAdditionItem = item['data-additional'];\n      var newValue = multiple ? _union(_this.state.value, [value]) : value;\n      var valueHasChanged = multiple ? !!_difference(newValue, currentValue).length : newValue !== currentValue; // notify the onChange prop that the user is trying to change value\n\n      if (valueHasChanged) {\n        _this.setState({\n          value: newValue\n        });\n\n        _this.handleChange(e, newValue);\n      }\n\n      _this.clearSearchQuery();\n\n      if (search) {\n        _invoke(_this.searchRef.current, 'focus');\n      } else {\n        _invoke(_this.ref.current, 'focus');\n      }\n\n      _this.closeOnChange(e); // Heads up! This event handler should be called after `onChange`\n      // Notify the onAddItem prop if this is a new value\n\n\n      if (isAdditionItem) {\n        _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, {\n          value: value\n        }));\n      }\n    };\n\n    _this.handleFocus = function (e) {\n      var focus = _this.state.focus;\n      if (focus) return;\n\n      _invoke(_this.props, 'onFocus', e, _this.props);\n\n      _this.setState({\n        focus: true\n      });\n    };\n\n    _this.handleBlur = function (e) {\n      // Heads up! Don't remove this.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/1315\n      var currentTarget = _get(e, 'currentTarget');\n\n      if (currentTarget && currentTarget.contains(document.activeElement)) return;\n      var _this$props6 = _this.props,\n          closeOnBlur = _this$props6.closeOnBlur,\n          multiple = _this$props6.multiple,\n          selectOnBlur = _this$props6.selectOnBlur; // do not \"blur\" when the mouse is down inside of the Dropdown\n\n      if (_this.isMouseDown) return;\n\n      _invoke(_this.props, 'onBlur', e, _this.props);\n\n      if (selectOnBlur && !multiple) {\n        _this.makeSelectedItemActive(e, _this.state.selectedIndex);\n\n        if (closeOnBlur) _this.close();\n      }\n\n      _this.setState({\n        focus: false\n      });\n\n      _this.clearSearchQuery();\n    };\n\n    _this.handleSearchChange = function (e, _ref) {\n      var value = _ref.value; // prevent propagating to this.props.onChange()\n\n      e.stopPropagation();\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n      var newQuery = value;\n\n      _invoke(_this.props, 'onSearchChange', e, _extends({}, _this.props, {\n        searchQuery: newQuery\n      }));\n\n      _this.setState({\n        searchQuery: newQuery,\n        selectedIndex: 0\n      }); // open search dropdown on search query\n\n\n      if (!open && newQuery.length >= minCharacters) {\n        _this.open();\n\n        return;\n      } // close search dropdown if search query is too small\n\n\n      if (open && minCharacters !== 1 && newQuery.length < minCharacters) _this.close();\n    };\n\n    _this.handleKeyDown = function (e) {\n      _this.moveSelectionOnKeyDown(e);\n\n      _this.openOnArrow(e);\n\n      _this.selectItemOnEnter(e);\n\n      _invoke(_this.props, 'onKeyDown', e);\n    };\n\n    _this.getSelectedItem = function (selectedIndex) {\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      });\n      return _get(options, \"[\" + selectedIndex + \"]\");\n    };\n\n    _this.getItemByValue = function (value) {\n      var options = _this.props.options;\n      return _find(options, {\n        value: value\n      });\n    };\n\n    _this.getDropdownAriaOptions = function () {\n      var _this$props7 = _this.props,\n          loading = _this$props7.loading,\n          disabled = _this$props7.disabled,\n          search = _this$props7.search,\n          multiple = _this$props7.multiple;\n      var open = _this.state.open;\n      var ariaOptions = {\n        role: search ? 'combobox' : 'listbox',\n        'aria-busy': loading,\n        'aria-disabled': disabled,\n        'aria-expanded': !!open\n      };\n\n      if (ariaOptions.role === 'listbox') {\n        ariaOptions['aria-multiselectable'] = multiple;\n      }\n\n      return ariaOptions;\n    };\n\n    _this.clearSearchQuery = function () {\n      var searchQuery = _this.state.searchQuery;\n      if (searchQuery === undefined || searchQuery === '') return;\n\n      _this.setState({\n        searchQuery: ''\n      });\n    };\n\n    _this.handleLabelClick = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n\n      _this.setState({\n        selectedLabel: labelProps.value\n      });\n\n      _invoke(_this.props, 'onLabelClick', e, labelProps);\n    };\n\n    _this.handleLabelRemove = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n      var value = _this.state.value;\n\n      var newValue = _without(value, labelProps.value);\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.getSelectedIndexAfterMove = function (offset, startIndex) {\n      if (startIndex === void 0) {\n        startIndex = _this.state.selectedIndex;\n      }\n\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      }); // Prevent infinite loop\n      // TODO: remove left part of condition after children API will be removed\n\n      if (options === undefined || _every(options, 'disabled')) return;\n      var lastIndex = options.length - 1;\n      var wrapSelection = _this.props.wrapSelection; // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = startIndex + offset; // if 'wrapSelection' is set to false and selection is after last or before first, it just does not change\n\n      if (!wrapSelection && (nextIndex > lastIndex || nextIndex < 0)) {\n        nextIndex = startIndex;\n      } else if (nextIndex > lastIndex) {\n        nextIndex = 0;\n      } else if (nextIndex < 0) {\n        nextIndex = lastIndex;\n      }\n\n      if (options[nextIndex].disabled) {\n        return _this.getSelectedIndexAfterMove(offset, nextIndex);\n      }\n\n      return nextIndex;\n    };\n\n    _this.handleIconOverrides = function (predefinedProps) {\n      var clearable = _this.props.clearable;\n      var classes = cx(clearable && _this.hasValue() && 'clear', predefinedProps.className);\n      return {\n        className: classes,\n        onClick: function onClick(e) {\n          _invoke(predefinedProps, 'onClick', e, predefinedProps);\n\n          _this.handleIconClick(e);\n        }\n      };\n    };\n\n    _this.clearValue = function (e) {\n      var multiple = _this.props.multiple;\n      var newValue = multiple ? [] : '';\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.computeSearchInputTabIndex = function () {\n      var _this$props8 = _this.props,\n          disabled = _this$props8.disabled,\n          tabIndex = _this$props8.tabIndex;\n      if (!_isNil(tabIndex)) return tabIndex;\n      return disabled ? -1 : 0;\n    };\n\n    _this.computeSearchInputWidth = function () {\n      var searchQuery = _this.state.searchQuery;\n\n      if (_this.sizerRef.current && searchQuery) {\n        // resize the search input, temporarily show the sizer so we can measure it\n        _this.sizerRef.current.style.display = 'inline';\n        _this.sizerRef.current.textContent = searchQuery;\n        var searchWidth = Math.ceil(_this.sizerRef.current.getBoundingClientRect().width);\n\n        _this.sizerRef.current.style.removeProperty('display');\n\n        return searchWidth;\n      }\n    };\n\n    _this.computeTabIndex = function () {\n      var _this$props9 = _this.props,\n          disabled = _this$props9.disabled,\n          search = _this$props9.search,\n          tabIndex = _this$props9.tabIndex; // don't set a root node tabIndex as the search input has its own tabIndex\n\n      if (search) return undefined;\n      if (disabled) return -1;\n      return _isNil(tabIndex) ? 0 : tabIndex;\n    };\n\n    _this.handleSearchInputOverrides = function (predefinedProps) {\n      return {\n        onChange: function onChange(e, inputProps) {\n          _invoke(predefinedProps, 'onChange', e, inputProps);\n\n          _this.handleSearchChange(e, inputProps);\n        }\n      };\n    };\n\n    _this.hasValue = function () {\n      var multiple = _this.props.multiple;\n      var value = _this.state.value;\n      return multiple ? !_isEmpty(value) : !_isNil(value) && value !== '';\n    };\n\n    _this.scrollSelectedItemIntoView = function () {\n      if (!_this.ref.current) return;\n\n      var menu = _this.ref.current.querySelector('.menu.visible');\n\n      if (!menu) return;\n      var item = menu.querySelector('.item.selected');\n      if (!item) return;\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        // eslint-disable-next-line no-mixed-operators\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    };\n\n    _this.setOpenDirection = function () {\n      if (!_this.ref.current) return;\n\n      var menu = _this.ref.current.querySelector('.menu.visible');\n\n      if (!menu) return;\n\n      var dropdownRect = _this.ref.current.getBoundingClientRect();\n\n      var menuHeight = menu.clientHeight;\n      var spaceAtTheBottom = document.documentElement.clientHeight - dropdownRect.top - dropdownRect.height - menuHeight;\n      var spaceAtTheTop = dropdownRect.top - menuHeight;\n      var upward = spaceAtTheBottom < 0 && spaceAtTheTop > spaceAtTheBottom; // set state only if there's a relevant difference\n\n      if (!upward !== !_this.state.upward) {\n        _this.setState({\n          upward: upward\n        });\n      }\n    };\n\n    _this.open = function (e, triggerSetState) {\n      if (e === void 0) {\n        e = null;\n      }\n\n      if (triggerSetState === void 0) {\n        triggerSetState = true;\n      }\n\n      var _this$props10 = _this.props,\n          disabled = _this$props10.disabled,\n          search = _this$props10.search;\n      if (disabled) return;\n      if (search) _invoke(_this.searchRef.current, 'focus');\n\n      _invoke(_this.props, 'onOpen', e, _this.props);\n\n      if (triggerSetState) {\n        _this.setState({\n          open: true\n        });\n      }\n\n      _this.scrollSelectedItemIntoView();\n    };\n\n    _this.close = function (e, callback) {\n      if (callback === void 0) {\n        callback = _this.handleClose;\n      }\n\n      if (_this.state.open) {\n        _invoke(_this.props, 'onClose', e, _this.props);\n\n        _this.setState({\n          open: false\n        }, callback);\n      }\n    };\n\n    _this.handleClose = function () {\n      var hasSearchFocus = document.activeElement === _this.searchRef.current; // https://github.com/Semantic-Org/Semantic-UI-React/issues/627\n      // Blur the Dropdown on close so it is blurred after selecting an item.\n      // This is to prevent it from re-opening when switching tabs after selecting an item.\n\n      if (!hasSearchFocus && _this.ref.current) {\n        _this.ref.current.blur();\n      }\n\n      var hasDropdownFocus = document.activeElement === _this.ref.current;\n      var hasFocus = hasSearchFocus || hasDropdownFocus; // We need to keep the virtual model in sync with the browser focus change\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/692\n\n      _this.setState({\n        focus: hasFocus\n      });\n    };\n\n    _this.toggle = function (e) {\n      return _this.state.open ? _this.close(e) : _this.open(e);\n    };\n\n    _this.renderText = function () {\n      var _this$props11 = _this.props,\n          multiple = _this$props11.multiple,\n          placeholder = _this$props11.placeholder,\n          search = _this$props11.search,\n          text = _this$props11.text;\n      var _this$state6 = _this.state,\n          searchQuery = _this$state6.searchQuery,\n          selectedIndex = _this$state6.selectedIndex,\n          value = _this$state6.value,\n          open = _this$state6.open;\n\n      var hasValue = _this.hasValue();\n\n      var classes = cx(placeholder && !hasValue && 'default', 'text', search && searchQuery && 'filtered');\n      var _text = placeholder;\n      var selectedItem;\n\n      if (text) {\n        _text = text;\n      } else if (open && !multiple) {\n        selectedItem = _this.getSelectedItem(selectedIndex);\n      } else if (hasValue) {\n        selectedItem = _this.getItemByValue(value);\n      }\n\n      return DropdownText.create(selectedItem ? renderItemContent(selectedItem) : _text, {\n        defaultProps: {\n          className: classes\n        }\n      });\n    };\n\n    _this.renderSearchInput = function () {\n      var _this$props12 = _this.props,\n          search = _this$props12.search,\n          searchInput = _this$props12.searchInput;\n      var searchQuery = _this.state.searchQuery;\n      return search && /*#__PURE__*/React.createElement(Ref, {\n        innerRef: _this.searchRef\n      }, DropdownSearchInput.create(searchInput, {\n        defaultProps: {\n          style: {\n            width: _this.computeSearchInputWidth()\n          },\n          tabIndex: _this.computeSearchInputTabIndex(),\n          value: searchQuery\n        },\n        overrideProps: _this.handleSearchInputOverrides\n      }));\n    };\n\n    _this.renderSearchSizer = function () {\n      var _this$props13 = _this.props,\n          search = _this$props13.search,\n          multiple = _this$props13.multiple;\n      return search && multiple && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sizer\",\n        ref: _this.sizerRef\n      });\n    };\n\n    _this.renderLabels = function () {\n      var _this$props14 = _this.props,\n          multiple = _this$props14.multiple,\n          renderLabel = _this$props14.renderLabel;\n      var _this$state7 = _this.state,\n          selectedLabel = _this$state7.selectedLabel,\n          value = _this$state7.value;\n\n      if (!multiple || _isEmpty(value)) {\n        return;\n      }\n\n      var selectedItems = _map(value, _this.getItemByValue); // if no item could be found for a given state value the selected item will be undefined\n      // compact the selectedItems so we only have actual objects left\n\n\n      return _map(_compact(selectedItems), function (item, index) {\n        var defaultProps = {\n          active: item.value === selectedLabel,\n          as: 'a',\n          key: getKeyOrValue(item.key, item.value),\n          onClick: _this.handleLabelClick,\n          onRemove: _this.handleLabelRemove,\n          value: item.value\n        };\n        return Label.create(renderLabel(item, index, defaultProps), {\n          defaultProps: defaultProps\n        });\n      });\n    };\n\n    _this.renderOptions = function () {\n      var _this$props15 = _this.props,\n          lazyLoad = _this$props15.lazyLoad,\n          multiple = _this$props15.multiple,\n          search = _this$props15.search,\n          noResultsMessage = _this$props15.noResultsMessage;\n      var _this$state8 = _this.state,\n          open = _this$state8.open,\n          selectedIndex = _this$state8.selectedIndex,\n          value = _this$state8.value; // lazy load, only render options when open\n\n      if (lazyLoad && !open) return null;\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      });\n\n      if (noResultsMessage !== null && search && _isEmpty(options)) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"message\"\n        }, noResultsMessage);\n      }\n\n      var isActive = multiple ? function (optValue) {\n        return _includes(value, optValue);\n      } : function (optValue) {\n        return optValue === value;\n      };\n      return _map(options, function (opt, i) {\n        return DropdownItem.create(_extends({\n          active: isActive(opt.value),\n          onClick: _this.handleItemClick,\n          selected: selectedIndex === i\n        }, opt, {\n          key: getKeyOrValue(opt.key, opt.value),\n          // Needed for handling click events on disabled items\n          style: _extends({}, opt.style, {\n            pointerEvents: 'all'\n          })\n        }));\n      });\n    };\n\n    _this.renderMenu = function () {\n      var _this$props16 = _this.props,\n          children = _this$props16.children,\n          direction = _this$props16.direction,\n          header = _this$props16.header;\n      var open = _this.state.open;\n\n      var ariaOptions = _this.getDropdownMenuAriaOptions(); // single menu child\n\n\n      if (!childrenUtils.isNil(children)) {\n        var menuChild = Children.only(children);\n        var className = cx(direction, useKeyOnly(open, 'visible'), menuChild.props.className);\n        return /*#__PURE__*/cloneElement(menuChild, _extends({\n          className: className\n        }, ariaOptions));\n      }\n\n      return /*#__PURE__*/React.createElement(DropdownMenu, _extends({}, ariaOptions, {\n        direction: direction,\n        open: open\n      }), DropdownHeader.create(header, {\n        autoGenerateKey: false\n      }), _this.renderOptions());\n    };\n\n    return _this;\n  }\n\n  var _proto = Dropdown.prototype;\n\n  _proto.getInitialAutoControlledState = function getInitialAutoControlledState() {\n    return {\n      focus: false,\n      searchQuery: ''\n    };\n  };\n\n  Dropdown.getAutoControlledStateFromProps = function getAutoControlledStateFromProps(nextProps, computedState, prevState) {\n    // These values are stored only for a comparison on next getAutoControlledStateFromProps()\n    var derivedState = {\n      __options: nextProps.options,\n      __value: computedState.value\n    }; // The selected index is only dependent:\n\n    var shouldComputeSelectedIndex = // On value change\n    !shallowEqual(prevState.__value, computedState.value) || // On option keys/values, we only check those properties to avoid recursive performance impacts.\n    // https://github.com/Semantic-Org/Semantic-UI-React/issues/3000\n    !_isEqual(getKeyAndValues(nextProps.options), getKeyAndValues(prevState.__options));\n\n    if (shouldComputeSelectedIndex) {\n      derivedState.selectedIndex = getSelectedIndex({\n        additionLabel: nextProps.additionLabel,\n        additionPosition: nextProps.additionPosition,\n        allowAdditions: nextProps.allowAdditions,\n        deburr: nextProps.deburr,\n        multiple: nextProps.multiple,\n        search: nextProps.search,\n        selectedIndex: computedState.selectedIndex,\n        value: computedState.value,\n        options: nextProps.options,\n        searchQuery: computedState.searchQuery\n      });\n    }\n\n    return derivedState;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var open = this.state.open;\n\n    if (open) {\n      this.open(null, false);\n    }\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // eslint-disable-line complexity\n    var _this$props17 = this.props,\n        closeOnBlur = _this$props17.closeOnBlur,\n        minCharacters = _this$props17.minCharacters,\n        openOnFocus = _this$props17.openOnFocus,\n        search = _this$props17.search;\n    /* eslint-disable no-console */\n\n    if (process.env.NODE_ENV !== 'production') {\n      // in development, validate value type matches dropdown type\n      var isNextValueArray = Array.isArray(this.props.value);\n\n      var hasValue = _has(this.props, 'value');\n\n      if (hasValue && this.props.multiple && !isNextValueArray) {\n        console.error('Dropdown `value` must be an array when `multiple` is set.' + (\" Received type: `\" + Object.prototype.toString.call(this.props.value) + \"`.\"));\n      } else if (hasValue && !this.props.multiple && isNextValueArray) {\n        console.error('Dropdown `value` must not be an array when `multiple` is not set.' + ' Either set `multiple={true}` or use a string or number value.');\n      }\n    }\n    /* eslint-enable no-console */\n    // focused / blurred\n\n\n    if (!prevState.focus && this.state.focus) {\n      if (!this.isMouseDown) {\n        var openable = !search || search && minCharacters === 1 && !this.state.open;\n        if (openOnFocus && openable) this.open();\n      }\n    } else if (prevState.focus && !this.state.focus) {\n      if (!this.isMouseDown && closeOnBlur) {\n        this.close();\n      }\n    } // opened / closed\n\n\n    if (!prevState.open && this.state.open) {\n      this.setOpenDirection();\n      this.scrollSelectedItemIntoView();\n    } else if (prevState.open && !this.state.open) {}\n\n    if (prevState.selectedIndex !== this.state.selectedIndex) {\n      this.scrollSelectedItemIntoView();\n    }\n  } // ----------------------------------------\n  // Document Event Handlers\n  // ----------------------------------------\n  // onChange needs to receive a value\n  // can't rely on props.value if we are controlled\n  ;\n\n  _proto.getDropdownMenuAriaOptions = function getDropdownMenuAriaOptions() {\n    var _this$props18 = this.props,\n        search = _this$props18.search,\n        multiple = _this$props18.multiple;\n    var ariaOptions = {};\n\n    if (search) {\n      ariaOptions['aria-multiselectable'] = multiple;\n      ariaOptions.role = 'listbox';\n    }\n\n    return ariaOptions;\n  } // ----------------------------------------\n  // Setters\n  // ----------------------------------------\n  ;\n\n  _proto.render = function render() {\n    var _this$props19 = this.props,\n        basic = _this$props19.basic,\n        button = _this$props19.button,\n        className = _this$props19.className,\n        compact = _this$props19.compact,\n        disabled = _this$props19.disabled,\n        error = _this$props19.error,\n        fluid = _this$props19.fluid,\n        floating = _this$props19.floating,\n        icon = _this$props19.icon,\n        inline = _this$props19.inline,\n        item = _this$props19.item,\n        labeled = _this$props19.labeled,\n        loading = _this$props19.loading,\n        multiple = _this$props19.multiple,\n        pointing = _this$props19.pointing,\n        search = _this$props19.search,\n        selection = _this$props19.selection,\n        scrolling = _this$props19.scrolling,\n        simple = _this$props19.simple,\n        trigger = _this$props19.trigger;\n    var _this$state9 = this.state,\n        focus = _this$state9.focus,\n        open = _this$state9.open,\n        upward = _this$state9.upward; // Classes\n\n    var classes = cx('ui', useKeyOnly(open, 'active visible'), useKeyOnly(disabled, 'disabled'), useKeyOnly(error, 'error'), useKeyOnly(loading, 'loading'), useKeyOnly(basic, 'basic'), useKeyOnly(button, 'button'), useKeyOnly(compact, 'compact'), useKeyOnly(fluid, 'fluid'), useKeyOnly(floating, 'floating'), useKeyOnly(inline, 'inline'), // TODO: consider augmentation to render Dropdowns as Button/Menu, solves icon/link item issues\n    // https://github.com/Semantic-Org/Semantic-UI-React/issues/401#issuecomment-240487229\n    // TODO: the icon class is only required when a dropdown is a button\n    // useKeyOnly(icon, 'icon'),\n    useKeyOnly(labeled, 'labeled'), useKeyOnly(item, 'item'), useKeyOnly(multiple, 'multiple'), useKeyOnly(search, 'search'), useKeyOnly(selection, 'selection'), useKeyOnly(simple, 'simple'), useKeyOnly(scrolling, 'scrolling'), useKeyOnly(upward, 'upward'), useKeyOrValueAndKey(pointing, 'pointing'), 'dropdown', className);\n    var rest = getUnhandledProps(Dropdown, this.props);\n    var ElementType = getElementType(Dropdown, this.props);\n    var ariaOptions = this.getDropdownAriaOptions(ElementType, this.props);\n    return /*#__PURE__*/React.createElement(Ref, {\n      innerRef: this.ref\n    }, /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, ariaOptions, {\n      className: classes,\n      onBlur: this.handleBlur,\n      onClick: this.handleClick,\n      onKeyDown: this.handleKeyDown,\n      onMouseDown: this.handleMouseDown,\n      onFocus: this.handleFocus,\n      onChange: this.handleChange,\n      tabIndex: this.computeTabIndex()\n    }), this.renderLabels(), this.renderSearchInput(), this.renderSearchSizer(), trigger || this.renderText(), Icon.create(icon, {\n      overrideProps: this.handleIconOverrides,\n      autoGenerateKey: false\n    }), this.renderMenu(), open && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"keydown\",\n      on: this.closeOnEscape\n    }), open && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"click\",\n      on: this.closeOnDocumentClick\n    }), focus && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"keydown\",\n      on: this.removeItemOnBackspace\n    }), focus && !open && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"keydown\",\n      on: this.openOnSpace\n    })));\n  };\n\n  return Dropdown;\n}(Component);\n\nDropdown.handledProps = [\"additionLabel\", \"additionPosition\", \"allowAdditions\", \"as\", \"basic\", \"button\", \"children\", \"className\", \"clearable\", \"closeOnBlur\", \"closeOnChange\", \"closeOnEscape\", \"compact\", \"deburr\", \"defaultOpen\", \"defaultSearchQuery\", \"defaultSelectedLabel\", \"defaultUpward\", \"defaultValue\", \"direction\", \"disabled\", \"error\", \"floating\", \"fluid\", \"header\", \"icon\", \"inline\", \"item\", \"labeled\", \"lazyLoad\", \"loading\", \"minCharacters\", \"multiple\", \"noResultsMessage\", \"onAddItem\", \"onBlur\", \"onChange\", \"onClick\", \"onClose\", \"onFocus\", \"onLabelClick\", \"onMouseDown\", \"onOpen\", \"onSearchChange\", \"open\", \"openOnFocus\", \"options\", \"placeholder\", \"pointing\", \"renderLabel\", \"scrolling\", \"search\", \"searchInput\", \"searchQuery\", \"selectOnBlur\", \"selectOnNavigation\", \"selectedLabel\", \"selection\", \"simple\", \"tabIndex\", \"text\", \"trigger\", \"upward\", \"value\", \"wrapSelection\"];\nexport { Dropdown as default };\nDropdown.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Label prefixed to an option added by a user. */\n  additionLabel: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\n  /** Position of the `Add: ...` option in the dropdown list ('top' or 'bottom'). */\n  additionPosition: PropTypes.oneOf(['top', 'bottom']),\n\n  /**\n   * Allow user additions to the list of options (boolean).\n   * Requires the use of `selection`, `options` and `search`.\n   */\n  allowAdditions: customPropTypes.every([customPropTypes.demand(['options', 'selection', 'search']), PropTypes.bool]),\n\n  /** A Dropdown can reduce its complexity. */\n  basic: PropTypes.bool,\n\n  /** Format the Dropdown to appear as a button. */\n  button: PropTypes.bool,\n\n  /** Primary content. */\n  children: customPropTypes.every([customPropTypes.disallow(['options', 'selection']), customPropTypes.givenProps({\n    children: PropTypes.any.isRequired\n  }, PropTypes.element.isRequired)]),\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Using the clearable setting will let users remove their selection from a dropdown. */\n  clearable: PropTypes.bool,\n\n  /** Whether or not the menu should close when the dropdown is blurred. */\n  closeOnBlur: PropTypes.bool,\n\n  /** Whether or not the dropdown should close when the escape key is pressed. */\n  closeOnEscape: PropTypes.bool,\n\n  /**\n   * Whether or not the menu should close when a value is selected from the dropdown.\n   * By default, multiple selection dropdowns will remain open on change, while single\n   * selection dropdowns will close on change.\n   */\n  closeOnChange: PropTypes.bool,\n\n  /** A compact dropdown has no minimum width. */\n  compact: PropTypes.bool,\n\n  /** Whether or not the dropdown should strip diacritics in options and input search */\n  deburr: PropTypes.bool,\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** Initial value of searchQuery. */\n  defaultSearchQuery: PropTypes.string,\n\n  /** Currently selected label in multi-select. */\n  defaultSelectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.number, PropTypes.string])]),\n\n  /** Initial value of upward. */\n  defaultUpward: PropTypes.bool,\n\n  /** Initial value or value array if multiple. */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]))]),\n\n  /** A dropdown menu can open to the left or to the right. */\n  direction: PropTypes.oneOf(['left', 'right']),\n\n  /** A disabled dropdown menu or item does not allow user interaction. */\n  disabled: PropTypes.bool,\n\n  /** An errored dropdown can alert a user to a problem. */\n  error: PropTypes.bool,\n\n  /** A dropdown menu can contain floated content. */\n  floating: PropTypes.bool,\n\n  /** A dropdown can take the full width of its parent */\n  fluid: PropTypes.bool,\n\n  /** A dropdown menu can contain a header. */\n  header: PropTypes.node,\n\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n\n  /** A dropdown can be formatted to appear inline in other content. */\n  inline: PropTypes.bool,\n\n  /** A dropdown can be formatted as a Menu item. */\n  item: PropTypes.bool,\n\n  /** A dropdown can be labeled. */\n  labeled: PropTypes.bool,\n\n  /** A dropdown can defer rendering its options until it is open. */\n  lazyLoad: PropTypes.bool,\n\n  /** A dropdown can show that it is currently loading data. */\n  loading: PropTypes.bool,\n\n  /** The minimum characters for a search to begin showing results. */\n  minCharacters: PropTypes.number,\n\n  /** A selection dropdown can allow multiple selections. */\n  multiple: PropTypes.bool,\n\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.node,\n\n  /**\n   * Called when a user adds a new item. Use this to update the options list.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and the new item's value.\n   */\n  onAddItem: PropTypes.func,\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Called when the user attempts to change the value.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and proposed value.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Called on click.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Called when a close event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Called when a multi-select label is clicked.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All label props.\n   */\n  onLabelClick: PropTypes.func,\n\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * Called when an open event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of searchQuery.\n   */\n  onSearchChange: PropTypes.func,\n\n  /** Controls whether or not the dropdown menu is displayed. */\n  open: PropTypes.bool,\n\n  /** Whether or not the menu should open when the dropdown is focused. */\n  openOnFocus: PropTypes.bool,\n\n  /** Array of Dropdown.Item props e.g. `{ text: '', value: '' }` */\n  options: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.arrayOf(PropTypes.shape(DropdownItem.propTypes))]),\n\n  /** Placeholder text. */\n  placeholder: PropTypes.string,\n\n  /** A dropdown can be formatted so that its menu is pointing. */\n  pointing: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['left', 'right', 'top', 'top left', 'top right', 'bottom', 'bottom left', 'bottom right'])]),\n\n  /**\n   * Mapped over the active items and returns shorthand for the active item Labels.\n   * Only applies to `multiple` Dropdowns.\n   *\n   * @param {object} item - A currently active dropdown item.\n   * @param {number} index - The current index.\n   * @param {object} defaultLabelProps - The default props for an active item Label.\n   * @returns {*} Shorthand for a Label.\n   */\n  renderLabel: PropTypes.func,\n\n  /** A dropdown can have its menu scroll. */\n  scrolling: PropTypes.bool,\n\n  /**\n   * A selection dropdown can allow a user to search through a large list of choices.\n   * Pass a function here to replace the default search.\n   */\n  search: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n\n  /** A shorthand for a search input. */\n  searchInput: PropTypes.oneOfType([PropTypes.array, PropTypes.node, PropTypes.object]),\n\n  /** Current value of searchQuery. Creates a controlled component. */\n  searchQuery: PropTypes.string,\n  // TODO 'searchInMenu' or 'search='in menu' or ???  How to handle this markup and functionality?\n\n  /** Define whether the highlighted item should be selected on blur. */\n  selectOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not to change the value when navigating the menu using arrow keys.\n   * Setting to false will require enter or left click to confirm a choice.\n   */\n  selectOnNavigation: PropTypes.bool,\n\n  /** Currently selected label in multi-select. */\n  selectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.string, PropTypes.number])]),\n\n  /** A dropdown can be used to select between choices in a form. */\n  selection: customPropTypes.every([customPropTypes.disallow(['children']), customPropTypes.demand(['options']), PropTypes.bool]),\n\n  /** A simple dropdown can open without Javascript. */\n  simple: PropTypes.bool,\n\n  /** A dropdown can receive focus. */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** The text displayed in the dropdown, usually for the active item. */\n  text: PropTypes.string,\n\n  /** Custom element to trigger the menu to become visible. Takes place of 'text'. */\n  trigger: customPropTypes.every([customPropTypes.disallow(['selection', 'text']), PropTypes.node]),\n\n  /** Current value or value array if multiple. Creates a controlled component. */\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number]))]),\n\n  /** Controls whether the dropdown will open upward. */\n  upward: PropTypes.bool,\n\n  /**\n   * A dropdown will go to the last element when ArrowUp is pressed on the first,\n   * or go to the first when ArrowDown is pressed on the last( aka infinite selection )\n   */\n  wrapSelection: PropTypes.bool\n} : {};\nDropdown.defaultProps = {\n  additionLabel: 'Add ',\n  additionPosition: 'top',\n  closeOnBlur: true,\n  closeOnEscape: true,\n  deburr: false,\n  icon: 'dropdown',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  openOnFocus: true,\n  renderLabel: renderItemContent,\n  searchInput: 'text',\n  selectOnBlur: true,\n  selectOnNavigation: true,\n  wrapSelection: true\n};\nDropdown.autoControlledProps = ['open', 'searchQuery', 'selectedLabel', 'value', 'upward'];\nDropdown.Divider = DropdownDivider;\nDropdown.Header = DropdownHeader;\nDropdown.Item = DropdownItem;\nDropdown.Menu = DropdownMenu;\nDropdown.SearchInput = DropdownSearchInput;\nDropdown.Text = DropdownText;","map":{"version":3,"sources":["E:/Projetos/Portal/PF/EBK_PF_Adm/FrontEnd/pfa/node_modules/semantic-ui-react/dist/es/modules/Dropdown/Dropdown.js"],"names":["_extends","_inheritsLoose","_includes","_compact","_map","_every","_without","_find","_dropRight","_isEmpty","_size","_difference","_union","_get","_noop","_isUndefined","_invoke","_has","_isEqual","_isFunction","_pick","_isNil","EventStack","Ref","cx","keyboardKey","PropTypes","React","Children","cloneElement","createRef","shallowEqual","ModernAutoControlledComponent","Component","childrenUtils","customPropTypes","doesNodeContainClick","getElementType","getUnhandledProps","objectDiff","useKeyOnly","useKeyOrValueAndKey","Icon","Label","Flag","Image","DropdownDivider","DropdownItem","DropdownHeader","DropdownMenu","DropdownSearchInput","DropdownText","getMenuOptions","getSelectedIndex","getKeyOrValue","key","value","getKeyAndValues","options","map","option","renderItemContent","item","flag","image","text","isValidElement","content","createElement","Fragment","create","Dropdown","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","searchRef","sizerRef","ref","handleChange","e","props","closeOnChange","_this$props","multiple","shouldClose","close","closeOnEscape","getCode","Escape","preventDefault","moveSelectionOnKeyDown","_moves","_this$props2","selectOnNavigation","open","state","moves","ArrowDown","ArrowUp","move","undefined","nextIndex","getSelectedIndexAfterMove","makeSelectedItemActive","setState","selectedIndex","openOnSpace","Spacebar","openOnArrow","_this$state","focus","code","_this$state2","getSelectedItem","selectedValue","newValue","valueHasChanged","selectItemOnEnter","search","_this$state3","shouldSelect","Enter","optionSize","searchQuery","additionLabel","additionPosition","allowAdditions","deburr","nextValue","clearSearchQuery","current","removeItemOnBackspace","_this$props3","_this$state4","Backspace","closeOnDocumentClick","closeOnBlur","handleMouseDown","isMouseDown","document","addEventListener","handleDocumentMouseUp","removeEventListener","handleClick","_this$props4","minCharacters","_this$state5","stopPropagation","toggle","handleIconClick","clearable","hasValue","clearValue","handleItemClick","_this$props5","currentValue","disabled","nativeEvent","stopImmediatePropagation","isAdditionItem","handleFocus","handleBlur","currentTarget","contains","activeElement","_this$props6","selectOnBlur","handleSearchChange","_ref","newQuery","handleKeyDown","getItemByValue","getDropdownAriaOptions","_this$props7","loading","ariaOptions","role","handleLabelClick","labelProps","selectedLabel","handleLabelRemove","offset","startIndex","lastIndex","wrapSelection","handleIconOverrides","predefinedProps","classes","className","onClick","computeSearchInputTabIndex","_this$props8","tabIndex","computeSearchInputWidth","style","display","textContent","searchWidth","Math","ceil","getBoundingClientRect","width","removeProperty","computeTabIndex","_this$props9","handleSearchInputOverrides","onChange","inputProps","scrollSelectedItemIntoView","menu","querySelector","isOutOfUpperView","offsetTop","scrollTop","isOutOfLowerView","clientHeight","setOpenDirection","dropdownRect","menuHeight","spaceAtTheBottom","documentElement","top","height","spaceAtTheTop","upward","triggerSetState","_this$props10","callback","handleClose","hasSearchFocus","blur","hasDropdownFocus","hasFocus","renderText","_this$props11","placeholder","_this$state6","_text","selectedItem","defaultProps","renderSearchInput","_this$props12","searchInput","innerRef","overrideProps","renderSearchSizer","_this$props13","renderLabels","_this$props14","renderLabel","_this$state7","selectedItems","index","active","as","onRemove","renderOptions","_this$props15","lazyLoad","noResultsMessage","_this$state8","isActive","optValue","opt","i","selected","pointerEvents","renderMenu","_this$props16","children","direction","header","getDropdownMenuAriaOptions","isNil","menuChild","only","autoGenerateKey","_proto","prototype","getInitialAutoControlledState","getAutoControlledStateFromProps","nextProps","computedState","prevState","derivedState","__options","__value","shouldComputeSelectedIndex","componentDidMount","shouldComponentUpdate","nextState","componentDidUpdate","prevProps","_this$props17","openOnFocus","process","env","NODE_ENV","isNextValueArray","isArray","console","error","Object","toString","openable","_this$props18","render","_this$props19","basic","button","compact","fluid","floating","icon","inline","labeled","pointing","selection","scrolling","simple","trigger","_this$state9","rest","ElementType","onBlur","onKeyDown","onMouseDown","onFocus","name","on","handledProps","default","propTypes","elementType","oneOfType","element","string","oneOf","every","demand","bool","disallow","givenProps","any","isRequired","defaultOpen","defaultSearchQuery","defaultSelectedLabel","number","defaultUpward","defaultValue","arrayOf","node","object","onAddItem","func","onClose","onLabelClick","onOpen","onSearchChange","shape","array","autoControlledProps","Divider","Header","Item","Menu","SearchInput","Text"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _includes from \"lodash/includes\";\nimport _compact from \"lodash/compact\";\nimport _map from \"lodash/map\";\nimport _every from \"lodash/every\";\nimport _without from \"lodash/without\";\nimport _find from \"lodash/find\";\nimport _dropRight from \"lodash/dropRight\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _size from \"lodash/size\";\nimport _difference from \"lodash/difference\";\nimport _union from \"lodash/union\";\nimport _get from \"lodash/get\";\nimport _noop from \"lodash/noop\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _invoke from \"lodash/invoke\";\nimport _has from \"lodash/has\";\nimport _isEqual from \"lodash/isEqual\";\nimport _isFunction from \"lodash/isFunction\";\nimport _pick from \"lodash/pick\";\nimport _isNil from \"lodash/isNil\";\nimport EventStack from '@semantic-ui-react/event-stack';\nimport { Ref } from '@stardust-ui/react-component-ref';\nimport cx from 'clsx';\nimport keyboardKey from 'keyboard-key';\nimport PropTypes from 'prop-types';\nimport React, { Children, cloneElement, createRef } from 'react';\nimport shallowEqual from 'shallowequal';\nimport { ModernAutoControlledComponent as Component, childrenUtils, customPropTypes, doesNodeContainClick, getElementType, getUnhandledProps, objectDiff, useKeyOnly, useKeyOrValueAndKey } from '../../lib';\nimport Icon from '../../elements/Icon';\nimport Label from '../../elements/Label';\nimport Flag from '../../elements/Flag';\nimport Image from '../../elements/Image';\nimport DropdownDivider from './DropdownDivider';\nimport DropdownItem from './DropdownItem';\nimport DropdownHeader from './DropdownHeader';\nimport DropdownMenu from './DropdownMenu';\nimport DropdownSearchInput from './DropdownSearchInput';\nimport DropdownText from './DropdownText';\nimport getMenuOptions from './utils/getMenuOptions';\nimport getSelectedIndex from './utils/getSelectedIndex';\n\nvar getKeyOrValue = function getKeyOrValue(key, value) {\n  return _isNil(key) ? value : key;\n};\n\nvar getKeyAndValues = function getKeyAndValues(options) {\n  return options ? options.map(function (option) {\n    return _pick(option, ['key', 'value']);\n  }) : options;\n};\n\nfunction renderItemContent(item) {\n  var flag = item.flag,\n      image = item.image,\n      text = item.text; // TODO: remove this in v2\n  // This maintains compatibility with Shorthand API in v1 as this might be called in \"Label.create()\"\n\n  if ( /*#__PURE__*/React.isValidElement(text) || _isFunction(text)) {\n    return text;\n  }\n\n  return {\n    content: /*#__PURE__*/React.createElement(React.Fragment, null, Flag.create(flag), Image.create(image), text)\n  };\n}\n/**\n * A dropdown allows a user to select a value from a series of options.\n * @see Form\n * @see Select\n * @see Menu\n */\n\n\nvar Dropdown = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Dropdown, _Component);\n\n  function Dropdown() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.searchRef = /*#__PURE__*/createRef();\n    _this.sizerRef = /*#__PURE__*/createRef();\n    _this.ref = /*#__PURE__*/createRef();\n\n    _this.handleChange = function (e, value) {\n      _invoke(_this.props, 'onChange', e, _extends({}, _this.props, {\n        value: value\n      }));\n    };\n\n    _this.closeOnChange = function (e) {\n      var _this$props = _this.props,\n          closeOnChange = _this$props.closeOnChange,\n          multiple = _this$props.multiple;\n      var shouldClose = _isUndefined(closeOnChange) ? !multiple : closeOnChange;\n\n      if (shouldClose) {\n        _this.close(e, _noop);\n      }\n    };\n\n    _this.closeOnEscape = function (e) {\n      if (!_this.props.closeOnEscape) return;\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n\n      _this.close(e);\n    };\n\n    _this.moveSelectionOnKeyDown = function (e) {\n      var _moves;\n\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          selectOnNavigation = _this$props2.selectOnNavigation;\n      var open = _this.state.open;\n\n      if (!open) {\n        return;\n      }\n\n      var moves = (_moves = {}, _moves[keyboardKey.ArrowDown] = 1, _moves[keyboardKey.ArrowUp] = -1, _moves);\n      var move = moves[keyboardKey.getCode(e)];\n\n      if (move === undefined) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var nextIndex = _this.getSelectedIndexAfterMove(move);\n\n      if (!multiple && selectOnNavigation) {\n        _this.makeSelectedItemActive(e, nextIndex);\n      }\n\n      _this.setState({\n        selectedIndex: nextIndex\n      });\n    };\n\n    _this.openOnSpace = function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Spacebar) return;\n      e.preventDefault();\n\n      _this.open(e);\n    };\n\n    _this.openOnArrow = function (e) {\n      var _this$state = _this.state,\n          focus = _this$state.focus,\n          open = _this$state.open;\n\n      if (focus && !open) {\n        var code = keyboardKey.getCode(e);\n\n        if (code === keyboardKey.ArrowDown || code === keyboardKey.ArrowUp) {\n          e.preventDefault();\n\n          _this.open(e);\n        }\n      }\n    };\n\n    _this.makeSelectedItemActive = function (e, selectedIndex) {\n      var _this$state2 = _this.state,\n          open = _this$state2.open,\n          value = _this$state2.value;\n      var multiple = _this.props.multiple;\n\n      var item = _this.getSelectedItem(selectedIndex);\n\n      var selectedValue = _get(item, 'value'); // prevent selecting null if there was no selected item value\n      // prevent selecting duplicate items when the dropdown is closed\n\n\n      if (_isNil(selectedValue) || !open) {\n        return value;\n      } // state value may be undefined\n\n\n      var newValue = multiple ? _union(value, [selectedValue]) : selectedValue;\n      var valueHasChanged = multiple ? !!_difference(newValue, value).length : newValue !== value;\n\n      if (valueHasChanged) {\n        // notify the onChange prop that the user is trying to change value\n        _this.setState({\n          value: newValue\n        });\n\n        _this.handleChange(e, newValue); // Heads up! This event handler should be called after `onChange`\n        // Notify the onAddItem prop if this is a new value\n\n\n        if (item['data-additional']) {\n          _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, {\n            value: selectedValue\n          }));\n        }\n      }\n\n      return value;\n    };\n\n    _this.selectItemOnEnter = function (e) {\n      var search = _this.props.search;\n      var _this$state3 = _this.state,\n          open = _this$state3.open,\n          selectedIndex = _this$state3.selectedIndex;\n\n      if (!open) {\n        return;\n      }\n\n      var shouldSelect = keyboardKey.getCode(e) === keyboardKey.Enter || // https://github.com/Semantic-Org/Semantic-UI-React/pull/3766\n      !search && keyboardKey.getCode(e) === keyboardKey.Spacebar;\n\n      if (!shouldSelect) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var optionSize = _size(getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      }));\n\n      if (search && optionSize === 0) {\n        return;\n      }\n\n      var nextValue = _this.makeSelectedItemActive(e, selectedIndex); // This is required as selected value may be the same\n\n\n      _this.setState({\n        selectedIndex: getSelectedIndex({\n          additionLabel: _this.props.additionLabel,\n          additionPosition: _this.props.additionPosition,\n          allowAdditions: _this.props.allowAdditions,\n          deburr: _this.props.deburr,\n          multiple: _this.props.multiple,\n          search: _this.props.search,\n          selectedIndex: selectedIndex,\n          value: nextValue,\n          options: _this.props.options,\n          searchQuery: ''\n        })\n      });\n\n      _this.closeOnChange(e);\n\n      _this.clearSearchQuery();\n\n      if (search) {\n        _invoke(_this.searchRef.current, 'focus');\n      }\n    };\n\n    _this.removeItemOnBackspace = function (e) {\n      var _this$props3 = _this.props,\n          multiple = _this$props3.multiple,\n          search = _this$props3.search;\n      var _this$state4 = _this.state,\n          searchQuery = _this$state4.searchQuery,\n          value = _this$state4.value;\n      if (keyboardKey.getCode(e) !== keyboardKey.Backspace) return;\n      if (searchQuery || !search || !multiple || _isEmpty(value)) return;\n      e.preventDefault(); // remove most recent value\n\n      var newValue = _dropRight(value);\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.closeOnDocumentClick = function (e) {\n      if (!_this.props.closeOnBlur) return; // If event happened in the dropdown, ignore it\n\n      if (_this.ref.current && doesNodeContainClick(_this.ref.current, e)) return;\n\n      _this.close();\n    };\n\n    _this.handleMouseDown = function (e) {\n      _this.isMouseDown = true;\n\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n\n      document.addEventListener('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleDocumentMouseUp = function () {\n      _this.isMouseDown = false;\n      document.removeEventListener('mouseup', _this.handleDocumentMouseUp);\n    };\n\n    _this.handleClick = function (e) {\n      var _this$props4 = _this.props,\n          minCharacters = _this$props4.minCharacters,\n          search = _this$props4.search;\n      var _this$state5 = _this.state,\n          open = _this$state5.open,\n          searchQuery = _this$state5.searchQuery;\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent closeOnDocumentClick()\n\n\n      e.stopPropagation();\n      if (!search) return _this.toggle(e);\n\n      if (open) {\n        _invoke(_this.searchRef.current, 'focus');\n\n        return;\n      }\n\n      if (searchQuery.length >= minCharacters || minCharacters === 1) {\n        _this.open(e);\n\n        return;\n      }\n\n      _invoke(_this.searchRef.current, 'focus');\n    };\n\n    _this.handleIconClick = function (e) {\n      var clearable = _this.props.clearable;\n\n      var hasValue = _this.hasValue();\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent handleClick()\n\n\n      e.stopPropagation();\n\n      if (clearable && hasValue) {\n        _this.clearValue(e);\n      } else {\n        _this.toggle(e);\n      }\n    };\n\n    _this.handleItemClick = function (e, item) {\n      var _this$props5 = _this.props,\n          multiple = _this$props5.multiple,\n          search = _this$props5.search;\n      var currentValue = _this.state.value;\n      var value = item.value; // prevent toggle() in handleClick()\n\n      e.stopPropagation(); // prevent closeOnDocumentClick() if multiple or item is disabled\n\n      if (multiple || item.disabled) {\n        e.nativeEvent.stopImmediatePropagation();\n      }\n\n      if (item.disabled) {\n        return;\n      }\n\n      var isAdditionItem = item['data-additional'];\n      var newValue = multiple ? _union(_this.state.value, [value]) : value;\n      var valueHasChanged = multiple ? !!_difference(newValue, currentValue).length : newValue !== currentValue; // notify the onChange prop that the user is trying to change value\n\n      if (valueHasChanged) {\n        _this.setState({\n          value: newValue\n        });\n\n        _this.handleChange(e, newValue);\n      }\n\n      _this.clearSearchQuery();\n\n      if (search) {\n        _invoke(_this.searchRef.current, 'focus');\n      } else {\n        _invoke(_this.ref.current, 'focus');\n      }\n\n      _this.closeOnChange(e); // Heads up! This event handler should be called after `onChange`\n      // Notify the onAddItem prop if this is a new value\n\n\n      if (isAdditionItem) {\n        _invoke(_this.props, 'onAddItem', e, _extends({}, _this.props, {\n          value: value\n        }));\n      }\n    };\n\n    _this.handleFocus = function (e) {\n      var focus = _this.state.focus;\n      if (focus) return;\n\n      _invoke(_this.props, 'onFocus', e, _this.props);\n\n      _this.setState({\n        focus: true\n      });\n    };\n\n    _this.handleBlur = function (e) {\n      // Heads up! Don't remove this.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/1315\n      var currentTarget = _get(e, 'currentTarget');\n\n      if (currentTarget && currentTarget.contains(document.activeElement)) return;\n      var _this$props6 = _this.props,\n          closeOnBlur = _this$props6.closeOnBlur,\n          multiple = _this$props6.multiple,\n          selectOnBlur = _this$props6.selectOnBlur; // do not \"blur\" when the mouse is down inside of the Dropdown\n\n      if (_this.isMouseDown) return;\n\n      _invoke(_this.props, 'onBlur', e, _this.props);\n\n      if (selectOnBlur && !multiple) {\n        _this.makeSelectedItemActive(e, _this.state.selectedIndex);\n\n        if (closeOnBlur) _this.close();\n      }\n\n      _this.setState({\n        focus: false\n      });\n\n      _this.clearSearchQuery();\n    };\n\n    _this.handleSearchChange = function (e, _ref) {\n      var value = _ref.value;\n      // prevent propagating to this.props.onChange()\n      e.stopPropagation();\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n      var newQuery = value;\n\n      _invoke(_this.props, 'onSearchChange', e, _extends({}, _this.props, {\n        searchQuery: newQuery\n      }));\n\n      _this.setState({\n        searchQuery: newQuery,\n        selectedIndex: 0\n      }); // open search dropdown on search query\n\n\n      if (!open && newQuery.length >= minCharacters) {\n        _this.open();\n\n        return;\n      } // close search dropdown if search query is too small\n\n\n      if (open && minCharacters !== 1 && newQuery.length < minCharacters) _this.close();\n    };\n\n    _this.handleKeyDown = function (e) {\n      _this.moveSelectionOnKeyDown(e);\n\n      _this.openOnArrow(e);\n\n      _this.selectItemOnEnter(e);\n\n      _invoke(_this.props, 'onKeyDown', e);\n    };\n\n    _this.getSelectedItem = function (selectedIndex) {\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      });\n      return _get(options, \"[\" + selectedIndex + \"]\");\n    };\n\n    _this.getItemByValue = function (value) {\n      var options = _this.props.options;\n      return _find(options, {\n        value: value\n      });\n    };\n\n    _this.getDropdownAriaOptions = function () {\n      var _this$props7 = _this.props,\n          loading = _this$props7.loading,\n          disabled = _this$props7.disabled,\n          search = _this$props7.search,\n          multiple = _this$props7.multiple;\n      var open = _this.state.open;\n      var ariaOptions = {\n        role: search ? 'combobox' : 'listbox',\n        'aria-busy': loading,\n        'aria-disabled': disabled,\n        'aria-expanded': !!open\n      };\n\n      if (ariaOptions.role === 'listbox') {\n        ariaOptions['aria-multiselectable'] = multiple;\n      }\n\n      return ariaOptions;\n    };\n\n    _this.clearSearchQuery = function () {\n      var searchQuery = _this.state.searchQuery;\n      if (searchQuery === undefined || searchQuery === '') return;\n\n      _this.setState({\n        searchQuery: ''\n      });\n    };\n\n    _this.handleLabelClick = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n\n      _this.setState({\n        selectedLabel: labelProps.value\n      });\n\n      _invoke(_this.props, 'onLabelClick', e, labelProps);\n    };\n\n    _this.handleLabelRemove = function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n      var value = _this.state.value;\n\n      var newValue = _without(value, labelProps.value);\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.getSelectedIndexAfterMove = function (offset, startIndex) {\n      if (startIndex === void 0) {\n        startIndex = _this.state.selectedIndex;\n      }\n\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      }); // Prevent infinite loop\n      // TODO: remove left part of condition after children API will be removed\n\n      if (options === undefined || _every(options, 'disabled')) return;\n      var lastIndex = options.length - 1;\n      var wrapSelection = _this.props.wrapSelection; // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = startIndex + offset; // if 'wrapSelection' is set to false and selection is after last or before first, it just does not change\n\n      if (!wrapSelection && (nextIndex > lastIndex || nextIndex < 0)) {\n        nextIndex = startIndex;\n      } else if (nextIndex > lastIndex) {\n        nextIndex = 0;\n      } else if (nextIndex < 0) {\n        nextIndex = lastIndex;\n      }\n\n      if (options[nextIndex].disabled) {\n        return _this.getSelectedIndexAfterMove(offset, nextIndex);\n      }\n\n      return nextIndex;\n    };\n\n    _this.handleIconOverrides = function (predefinedProps) {\n      var clearable = _this.props.clearable;\n      var classes = cx(clearable && _this.hasValue() && 'clear', predefinedProps.className);\n      return {\n        className: classes,\n        onClick: function onClick(e) {\n          _invoke(predefinedProps, 'onClick', e, predefinedProps);\n\n          _this.handleIconClick(e);\n        }\n      };\n    };\n\n    _this.clearValue = function (e) {\n      var multiple = _this.props.multiple;\n      var newValue = multiple ? [] : '';\n\n      _this.setState({\n        value: newValue\n      });\n\n      _this.handleChange(e, newValue);\n    };\n\n    _this.computeSearchInputTabIndex = function () {\n      var _this$props8 = _this.props,\n          disabled = _this$props8.disabled,\n          tabIndex = _this$props8.tabIndex;\n      if (!_isNil(tabIndex)) return tabIndex;\n      return disabled ? -1 : 0;\n    };\n\n    _this.computeSearchInputWidth = function () {\n      var searchQuery = _this.state.searchQuery;\n\n      if (_this.sizerRef.current && searchQuery) {\n        // resize the search input, temporarily show the sizer so we can measure it\n        _this.sizerRef.current.style.display = 'inline';\n        _this.sizerRef.current.textContent = searchQuery;\n        var searchWidth = Math.ceil(_this.sizerRef.current.getBoundingClientRect().width);\n\n        _this.sizerRef.current.style.removeProperty('display');\n\n        return searchWidth;\n      }\n    };\n\n    _this.computeTabIndex = function () {\n      var _this$props9 = _this.props,\n          disabled = _this$props9.disabled,\n          search = _this$props9.search,\n          tabIndex = _this$props9.tabIndex; // don't set a root node tabIndex as the search input has its own tabIndex\n\n      if (search) return undefined;\n      if (disabled) return -1;\n      return _isNil(tabIndex) ? 0 : tabIndex;\n    };\n\n    _this.handleSearchInputOverrides = function (predefinedProps) {\n      return {\n        onChange: function onChange(e, inputProps) {\n          _invoke(predefinedProps, 'onChange', e, inputProps);\n\n          _this.handleSearchChange(e, inputProps);\n        }\n      };\n    };\n\n    _this.hasValue = function () {\n      var multiple = _this.props.multiple;\n      var value = _this.state.value;\n      return multiple ? !_isEmpty(value) : !_isNil(value) && value !== '';\n    };\n\n    _this.scrollSelectedItemIntoView = function () {\n      if (!_this.ref.current) return;\n\n      var menu = _this.ref.current.querySelector('.menu.visible');\n\n      if (!menu) return;\n      var item = menu.querySelector('.item.selected');\n      if (!item) return;\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        // eslint-disable-next-line no-mixed-operators\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    };\n\n    _this.setOpenDirection = function () {\n      if (!_this.ref.current) return;\n\n      var menu = _this.ref.current.querySelector('.menu.visible');\n\n      if (!menu) return;\n\n      var dropdownRect = _this.ref.current.getBoundingClientRect();\n\n      var menuHeight = menu.clientHeight;\n      var spaceAtTheBottom = document.documentElement.clientHeight - dropdownRect.top - dropdownRect.height - menuHeight;\n      var spaceAtTheTop = dropdownRect.top - menuHeight;\n      var upward = spaceAtTheBottom < 0 && spaceAtTheTop > spaceAtTheBottom; // set state only if there's a relevant difference\n\n      if (!upward !== !_this.state.upward) {\n        _this.setState({\n          upward: upward\n        });\n      }\n    };\n\n    _this.open = function (e, triggerSetState) {\n      if (e === void 0) {\n        e = null;\n      }\n\n      if (triggerSetState === void 0) {\n        triggerSetState = true;\n      }\n\n      var _this$props10 = _this.props,\n          disabled = _this$props10.disabled,\n          search = _this$props10.search;\n      if (disabled) return;\n      if (search) _invoke(_this.searchRef.current, 'focus');\n\n      _invoke(_this.props, 'onOpen', e, _this.props);\n\n      if (triggerSetState) {\n        _this.setState({\n          open: true\n        });\n      }\n\n      _this.scrollSelectedItemIntoView();\n    };\n\n    _this.close = function (e, callback) {\n      if (callback === void 0) {\n        callback = _this.handleClose;\n      }\n\n      if (_this.state.open) {\n        _invoke(_this.props, 'onClose', e, _this.props);\n\n        _this.setState({\n          open: false\n        }, callback);\n      }\n    };\n\n    _this.handleClose = function () {\n      var hasSearchFocus = document.activeElement === _this.searchRef.current; // https://github.com/Semantic-Org/Semantic-UI-React/issues/627\n      // Blur the Dropdown on close so it is blurred after selecting an item.\n      // This is to prevent it from re-opening when switching tabs after selecting an item.\n\n      if (!hasSearchFocus && _this.ref.current) {\n        _this.ref.current.blur();\n      }\n\n      var hasDropdownFocus = document.activeElement === _this.ref.current;\n      var hasFocus = hasSearchFocus || hasDropdownFocus; // We need to keep the virtual model in sync with the browser focus change\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/692\n\n      _this.setState({\n        focus: hasFocus\n      });\n    };\n\n    _this.toggle = function (e) {\n      return _this.state.open ? _this.close(e) : _this.open(e);\n    };\n\n    _this.renderText = function () {\n      var _this$props11 = _this.props,\n          multiple = _this$props11.multiple,\n          placeholder = _this$props11.placeholder,\n          search = _this$props11.search,\n          text = _this$props11.text;\n      var _this$state6 = _this.state,\n          searchQuery = _this$state6.searchQuery,\n          selectedIndex = _this$state6.selectedIndex,\n          value = _this$state6.value,\n          open = _this$state6.open;\n\n      var hasValue = _this.hasValue();\n\n      var classes = cx(placeholder && !hasValue && 'default', 'text', search && searchQuery && 'filtered');\n      var _text = placeholder;\n      var selectedItem;\n\n      if (text) {\n        _text = text;\n      } else if (open && !multiple) {\n        selectedItem = _this.getSelectedItem(selectedIndex);\n      } else if (hasValue) {\n        selectedItem = _this.getItemByValue(value);\n      }\n\n      return DropdownText.create(selectedItem ? renderItemContent(selectedItem) : _text, {\n        defaultProps: {\n          className: classes\n        }\n      });\n    };\n\n    _this.renderSearchInput = function () {\n      var _this$props12 = _this.props,\n          search = _this$props12.search,\n          searchInput = _this$props12.searchInput;\n      var searchQuery = _this.state.searchQuery;\n      return search && /*#__PURE__*/React.createElement(Ref, {\n        innerRef: _this.searchRef\n      }, DropdownSearchInput.create(searchInput, {\n        defaultProps: {\n          style: {\n            width: _this.computeSearchInputWidth()\n          },\n          tabIndex: _this.computeSearchInputTabIndex(),\n          value: searchQuery\n        },\n        overrideProps: _this.handleSearchInputOverrides\n      }));\n    };\n\n    _this.renderSearchSizer = function () {\n      var _this$props13 = _this.props,\n          search = _this$props13.search,\n          multiple = _this$props13.multiple;\n      return search && multiple && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sizer\",\n        ref: _this.sizerRef\n      });\n    };\n\n    _this.renderLabels = function () {\n      var _this$props14 = _this.props,\n          multiple = _this$props14.multiple,\n          renderLabel = _this$props14.renderLabel;\n      var _this$state7 = _this.state,\n          selectedLabel = _this$state7.selectedLabel,\n          value = _this$state7.value;\n\n      if (!multiple || _isEmpty(value)) {\n        return;\n      }\n\n      var selectedItems = _map(value, _this.getItemByValue);\n\n      // if no item could be found for a given state value the selected item will be undefined\n      // compact the selectedItems so we only have actual objects left\n      return _map(_compact(selectedItems), function (item, index) {\n        var defaultProps = {\n          active: item.value === selectedLabel,\n          as: 'a',\n          key: getKeyOrValue(item.key, item.value),\n          onClick: _this.handleLabelClick,\n          onRemove: _this.handleLabelRemove,\n          value: item.value\n        };\n        return Label.create(renderLabel(item, index, defaultProps), {\n          defaultProps: defaultProps\n        });\n      });\n    };\n\n    _this.renderOptions = function () {\n      var _this$props15 = _this.props,\n          lazyLoad = _this$props15.lazyLoad,\n          multiple = _this$props15.multiple,\n          search = _this$props15.search,\n          noResultsMessage = _this$props15.noResultsMessage;\n      var _this$state8 = _this.state,\n          open = _this$state8.open,\n          selectedIndex = _this$state8.selectedIndex,\n          value = _this$state8.value; // lazy load, only render options when open\n\n      if (lazyLoad && !open) return null;\n      var options = getMenuOptions({\n        value: _this.state.value,\n        options: _this.props.options,\n        searchQuery: _this.state.searchQuery,\n        additionLabel: _this.props.additionLabel,\n        additionPosition: _this.props.additionPosition,\n        allowAdditions: _this.props.allowAdditions,\n        deburr: _this.props.deburr,\n        multiple: _this.props.multiple,\n        search: _this.props.search\n      });\n\n      if (noResultsMessage !== null && search && _isEmpty(options)) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"message\"\n        }, noResultsMessage);\n      }\n\n      var isActive = multiple ? function (optValue) {\n        return _includes(value, optValue);\n      } : function (optValue) {\n        return optValue === value;\n      };\n      return _map(options, function (opt, i) {\n        return DropdownItem.create(_extends({\n          active: isActive(opt.value),\n          onClick: _this.handleItemClick,\n          selected: selectedIndex === i\n        }, opt, {\n          key: getKeyOrValue(opt.key, opt.value),\n          // Needed for handling click events on disabled items\n          style: _extends({}, opt.style, {\n            pointerEvents: 'all'\n          })\n        }));\n      });\n    };\n\n    _this.renderMenu = function () {\n      var _this$props16 = _this.props,\n          children = _this$props16.children,\n          direction = _this$props16.direction,\n          header = _this$props16.header;\n      var open = _this.state.open;\n\n      var ariaOptions = _this.getDropdownMenuAriaOptions(); // single menu child\n\n\n      if (!childrenUtils.isNil(children)) {\n        var menuChild = Children.only(children);\n        var className = cx(direction, useKeyOnly(open, 'visible'), menuChild.props.className);\n        return /*#__PURE__*/cloneElement(menuChild, _extends({\n          className: className\n        }, ariaOptions));\n      }\n\n      return /*#__PURE__*/React.createElement(DropdownMenu, _extends({}, ariaOptions, {\n        direction: direction,\n        open: open\n      }), DropdownHeader.create(header, {\n        autoGenerateKey: false\n      }), _this.renderOptions());\n    };\n\n    return _this;\n  }\n\n  var _proto = Dropdown.prototype;\n\n  _proto.getInitialAutoControlledState = function getInitialAutoControlledState() {\n    return {\n      focus: false,\n      searchQuery: ''\n    };\n  };\n\n  Dropdown.getAutoControlledStateFromProps = function getAutoControlledStateFromProps(nextProps, computedState, prevState) {\n    // These values are stored only for a comparison on next getAutoControlledStateFromProps()\n    var derivedState = {\n      __options: nextProps.options,\n      __value: computedState.value\n    }; // The selected index is only dependent:\n\n    var shouldComputeSelectedIndex = // On value change\n    !shallowEqual(prevState.__value, computedState.value) || // On option keys/values, we only check those properties to avoid recursive performance impacts.\n    // https://github.com/Semantic-Org/Semantic-UI-React/issues/3000\n    !_isEqual(getKeyAndValues(nextProps.options), getKeyAndValues(prevState.__options));\n\n    if (shouldComputeSelectedIndex) {\n      derivedState.selectedIndex = getSelectedIndex({\n        additionLabel: nextProps.additionLabel,\n        additionPosition: nextProps.additionPosition,\n        allowAdditions: nextProps.allowAdditions,\n        deburr: nextProps.deburr,\n        multiple: nextProps.multiple,\n        search: nextProps.search,\n        selectedIndex: computedState.selectedIndex,\n        value: computedState.value,\n        options: nextProps.options,\n        searchQuery: computedState.searchQuery\n      });\n    }\n\n    return derivedState;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var open = this.state.open;\n\n    if (open) {\n      this.open(null, false);\n    }\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // eslint-disable-line complexity\n    var _this$props17 = this.props,\n        closeOnBlur = _this$props17.closeOnBlur,\n        minCharacters = _this$props17.minCharacters,\n        openOnFocus = _this$props17.openOnFocus,\n        search = _this$props17.search;\n    /* eslint-disable no-console */\n\n    if (process.env.NODE_ENV !== 'production') {\n      // in development, validate value type matches dropdown type\n      var isNextValueArray = Array.isArray(this.props.value);\n\n      var hasValue = _has(this.props, 'value');\n\n      if (hasValue && this.props.multiple && !isNextValueArray) {\n        console.error('Dropdown `value` must be an array when `multiple` is set.' + (\" Received type: `\" + Object.prototype.toString.call(this.props.value) + \"`.\"));\n      } else if (hasValue && !this.props.multiple && isNextValueArray) {\n        console.error('Dropdown `value` must not be an array when `multiple` is not set.' + ' Either set `multiple={true}` or use a string or number value.');\n      }\n    }\n    /* eslint-enable no-console */\n    // focused / blurred\n\n\n    if (!prevState.focus && this.state.focus) {\n      if (!this.isMouseDown) {\n        var openable = !search || search && minCharacters === 1 && !this.state.open;\n        if (openOnFocus && openable) this.open();\n      }\n    } else if (prevState.focus && !this.state.focus) {\n      if (!this.isMouseDown && closeOnBlur) {\n        this.close();\n      }\n    } // opened / closed\n\n\n    if (!prevState.open && this.state.open) {\n      this.setOpenDirection();\n      this.scrollSelectedItemIntoView();\n    } else if (prevState.open && !this.state.open) {}\n\n    if (prevState.selectedIndex !== this.state.selectedIndex) {\n      this.scrollSelectedItemIntoView();\n    }\n  } // ----------------------------------------\n  // Document Event Handlers\n  // ----------------------------------------\n  // onChange needs to receive a value\n  // can't rely on props.value if we are controlled\n  ;\n\n  _proto.getDropdownMenuAriaOptions = function getDropdownMenuAriaOptions() {\n    var _this$props18 = this.props,\n        search = _this$props18.search,\n        multiple = _this$props18.multiple;\n    var ariaOptions = {};\n\n    if (search) {\n      ariaOptions['aria-multiselectable'] = multiple;\n      ariaOptions.role = 'listbox';\n    }\n\n    return ariaOptions;\n  } // ----------------------------------------\n  // Setters\n  // ----------------------------------------\n  ;\n\n  _proto.render = function render() {\n    var _this$props19 = this.props,\n        basic = _this$props19.basic,\n        button = _this$props19.button,\n        className = _this$props19.className,\n        compact = _this$props19.compact,\n        disabled = _this$props19.disabled,\n        error = _this$props19.error,\n        fluid = _this$props19.fluid,\n        floating = _this$props19.floating,\n        icon = _this$props19.icon,\n        inline = _this$props19.inline,\n        item = _this$props19.item,\n        labeled = _this$props19.labeled,\n        loading = _this$props19.loading,\n        multiple = _this$props19.multiple,\n        pointing = _this$props19.pointing,\n        search = _this$props19.search,\n        selection = _this$props19.selection,\n        scrolling = _this$props19.scrolling,\n        simple = _this$props19.simple,\n        trigger = _this$props19.trigger;\n    var _this$state9 = this.state,\n        focus = _this$state9.focus,\n        open = _this$state9.open,\n        upward = _this$state9.upward; // Classes\n\n    var classes = cx('ui', useKeyOnly(open, 'active visible'), useKeyOnly(disabled, 'disabled'), useKeyOnly(error, 'error'), useKeyOnly(loading, 'loading'), useKeyOnly(basic, 'basic'), useKeyOnly(button, 'button'), useKeyOnly(compact, 'compact'), useKeyOnly(fluid, 'fluid'), useKeyOnly(floating, 'floating'), useKeyOnly(inline, 'inline'), // TODO: consider augmentation to render Dropdowns as Button/Menu, solves icon/link item issues\n    // https://github.com/Semantic-Org/Semantic-UI-React/issues/401#issuecomment-240487229\n    // TODO: the icon class is only required when a dropdown is a button\n    // useKeyOnly(icon, 'icon'),\n    useKeyOnly(labeled, 'labeled'), useKeyOnly(item, 'item'), useKeyOnly(multiple, 'multiple'), useKeyOnly(search, 'search'), useKeyOnly(selection, 'selection'), useKeyOnly(simple, 'simple'), useKeyOnly(scrolling, 'scrolling'), useKeyOnly(upward, 'upward'), useKeyOrValueAndKey(pointing, 'pointing'), 'dropdown', className);\n    var rest = getUnhandledProps(Dropdown, this.props);\n    var ElementType = getElementType(Dropdown, this.props);\n    var ariaOptions = this.getDropdownAriaOptions(ElementType, this.props);\n    return /*#__PURE__*/React.createElement(Ref, {\n      innerRef: this.ref\n    }, /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, ariaOptions, {\n      className: classes,\n      onBlur: this.handleBlur,\n      onClick: this.handleClick,\n      onKeyDown: this.handleKeyDown,\n      onMouseDown: this.handleMouseDown,\n      onFocus: this.handleFocus,\n      onChange: this.handleChange,\n      tabIndex: this.computeTabIndex()\n    }), this.renderLabels(), this.renderSearchInput(), this.renderSearchSizer(), trigger || this.renderText(), Icon.create(icon, {\n      overrideProps: this.handleIconOverrides,\n      autoGenerateKey: false\n    }), this.renderMenu(), open && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"keydown\",\n      on: this.closeOnEscape\n    }), open && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"click\",\n      on: this.closeOnDocumentClick\n    }), focus && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"keydown\",\n      on: this.removeItemOnBackspace\n    }), focus && !open && /*#__PURE__*/React.createElement(EventStack, {\n      name: \"keydown\",\n      on: this.openOnSpace\n    })));\n  };\n\n  return Dropdown;\n}(Component);\n\nDropdown.handledProps = [\"additionLabel\", \"additionPosition\", \"allowAdditions\", \"as\", \"basic\", \"button\", \"children\", \"className\", \"clearable\", \"closeOnBlur\", \"closeOnChange\", \"closeOnEscape\", \"compact\", \"deburr\", \"defaultOpen\", \"defaultSearchQuery\", \"defaultSelectedLabel\", \"defaultUpward\", \"defaultValue\", \"direction\", \"disabled\", \"error\", \"floating\", \"fluid\", \"header\", \"icon\", \"inline\", \"item\", \"labeled\", \"lazyLoad\", \"loading\", \"minCharacters\", \"multiple\", \"noResultsMessage\", \"onAddItem\", \"onBlur\", \"onChange\", \"onClick\", \"onClose\", \"onFocus\", \"onLabelClick\", \"onMouseDown\", \"onOpen\", \"onSearchChange\", \"open\", \"openOnFocus\", \"options\", \"placeholder\", \"pointing\", \"renderLabel\", \"scrolling\", \"search\", \"searchInput\", \"searchQuery\", \"selectOnBlur\", \"selectOnNavigation\", \"selectedLabel\", \"selection\", \"simple\", \"tabIndex\", \"text\", \"trigger\", \"upward\", \"value\", \"wrapSelection\"];\nexport { Dropdown as default };\nDropdown.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: PropTypes.elementType,\n\n  /** Label prefixed to an option added by a user. */\n  additionLabel: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\n  /** Position of the `Add: ...` option in the dropdown list ('top' or 'bottom'). */\n  additionPosition: PropTypes.oneOf(['top', 'bottom']),\n\n  /**\n   * Allow user additions to the list of options (boolean).\n   * Requires the use of `selection`, `options` and `search`.\n   */\n  allowAdditions: customPropTypes.every([customPropTypes.demand(['options', 'selection', 'search']), PropTypes.bool]),\n\n  /** A Dropdown can reduce its complexity. */\n  basic: PropTypes.bool,\n\n  /** Format the Dropdown to appear as a button. */\n  button: PropTypes.bool,\n\n  /** Primary content. */\n  children: customPropTypes.every([customPropTypes.disallow(['options', 'selection']), customPropTypes.givenProps({\n    children: PropTypes.any.isRequired\n  }, PropTypes.element.isRequired)]),\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Using the clearable setting will let users remove their selection from a dropdown. */\n  clearable: PropTypes.bool,\n\n  /** Whether or not the menu should close when the dropdown is blurred. */\n  closeOnBlur: PropTypes.bool,\n\n  /** Whether or not the dropdown should close when the escape key is pressed. */\n  closeOnEscape: PropTypes.bool,\n\n  /**\n   * Whether or not the menu should close when a value is selected from the dropdown.\n   * By default, multiple selection dropdowns will remain open on change, while single\n   * selection dropdowns will close on change.\n   */\n  closeOnChange: PropTypes.bool,\n\n  /** A compact dropdown has no minimum width. */\n  compact: PropTypes.bool,\n\n  /** Whether or not the dropdown should strip diacritics in options and input search */\n  deburr: PropTypes.bool,\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** Initial value of searchQuery. */\n  defaultSearchQuery: PropTypes.string,\n\n  /** Currently selected label in multi-select. */\n  defaultSelectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.number, PropTypes.string])]),\n\n  /** Initial value of upward. */\n  defaultUpward: PropTypes.bool,\n\n  /** Initial value or value array if multiple. */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]))]),\n\n  /** A dropdown menu can open to the left or to the right. */\n  direction: PropTypes.oneOf(['left', 'right']),\n\n  /** A disabled dropdown menu or item does not allow user interaction. */\n  disabled: PropTypes.bool,\n\n  /** An errored dropdown can alert a user to a problem. */\n  error: PropTypes.bool,\n\n  /** A dropdown menu can contain floated content. */\n  floating: PropTypes.bool,\n\n  /** A dropdown can take the full width of its parent */\n  fluid: PropTypes.bool,\n\n  /** A dropdown menu can contain a header. */\n  header: PropTypes.node,\n\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n\n  /** A dropdown can be formatted to appear inline in other content. */\n  inline: PropTypes.bool,\n\n  /** A dropdown can be formatted as a Menu item. */\n  item: PropTypes.bool,\n\n  /** A dropdown can be labeled. */\n  labeled: PropTypes.bool,\n\n  /** A dropdown can defer rendering its options until it is open. */\n  lazyLoad: PropTypes.bool,\n\n  /** A dropdown can show that it is currently loading data. */\n  loading: PropTypes.bool,\n\n  /** The minimum characters for a search to begin showing results. */\n  minCharacters: PropTypes.number,\n\n  /** A selection dropdown can allow multiple selections. */\n  multiple: PropTypes.bool,\n\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.node,\n\n  /**\n   * Called when a user adds a new item. Use this to update the options list.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and the new item's value.\n   */\n  onAddItem: PropTypes.func,\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Called when the user attempts to change the value.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and proposed value.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Called on click.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Called when a close event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Called when a multi-select label is clicked.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All label props.\n   */\n  onLabelClick: PropTypes.func,\n\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * Called when an open event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of searchQuery.\n   */\n  onSearchChange: PropTypes.func,\n\n  /** Controls whether or not the dropdown menu is displayed. */\n  open: PropTypes.bool,\n\n  /** Whether or not the menu should open when the dropdown is focused. */\n  openOnFocus: PropTypes.bool,\n\n  /** Array of Dropdown.Item props e.g. `{ text: '', value: '' }` */\n  options: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.arrayOf(PropTypes.shape(DropdownItem.propTypes))]),\n\n  /** Placeholder text. */\n  placeholder: PropTypes.string,\n\n  /** A dropdown can be formatted so that its menu is pointing. */\n  pointing: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['left', 'right', 'top', 'top left', 'top right', 'bottom', 'bottom left', 'bottom right'])]),\n\n  /**\n   * Mapped over the active items and returns shorthand for the active item Labels.\n   * Only applies to `multiple` Dropdowns.\n   *\n   * @param {object} item - A currently active dropdown item.\n   * @param {number} index - The current index.\n   * @param {object} defaultLabelProps - The default props for an active item Label.\n   * @returns {*} Shorthand for a Label.\n   */\n  renderLabel: PropTypes.func,\n\n  /** A dropdown can have its menu scroll. */\n  scrolling: PropTypes.bool,\n\n  /**\n   * A selection dropdown can allow a user to search through a large list of choices.\n   * Pass a function here to replace the default search.\n   */\n  search: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n\n  /** A shorthand for a search input. */\n  searchInput: PropTypes.oneOfType([PropTypes.array, PropTypes.node, PropTypes.object]),\n\n  /** Current value of searchQuery. Creates a controlled component. */\n  searchQuery: PropTypes.string,\n  // TODO 'searchInMenu' or 'search='in menu' or ???  How to handle this markup and functionality?\n\n  /** Define whether the highlighted item should be selected on blur. */\n  selectOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not to change the value when navigating the menu using arrow keys.\n   * Setting to false will require enter or left click to confirm a choice.\n   */\n  selectOnNavigation: PropTypes.bool,\n\n  /** Currently selected label in multi-select. */\n  selectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.string, PropTypes.number])]),\n\n  /** A dropdown can be used to select between choices in a form. */\n  selection: customPropTypes.every([customPropTypes.disallow(['children']), customPropTypes.demand(['options']), PropTypes.bool]),\n\n  /** A simple dropdown can open without Javascript. */\n  simple: PropTypes.bool,\n\n  /** A dropdown can receive focus. */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** The text displayed in the dropdown, usually for the active item. */\n  text: PropTypes.string,\n\n  /** Custom element to trigger the menu to become visible. Takes place of 'text'. */\n  trigger: customPropTypes.every([customPropTypes.disallow(['selection', 'text']), PropTypes.node]),\n\n  /** Current value or value array if multiple. Creates a controlled component. */\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number]))]),\n\n  /** Controls whether the dropdown will open upward. */\n  upward: PropTypes.bool,\n\n  /**\n   * A dropdown will go to the last element when ArrowUp is pressed on the first,\n   * or go to the first when ArrowDown is pressed on the last( aka infinite selection )\n   */\n  wrapSelection: PropTypes.bool\n} : {};\nDropdown.defaultProps = {\n  additionLabel: 'Add ',\n  additionPosition: 'top',\n  closeOnBlur: true,\n  closeOnEscape: true,\n  deburr: false,\n  icon: 'dropdown',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  openOnFocus: true,\n  renderLabel: renderItemContent,\n  searchInput: 'text',\n  selectOnBlur: true,\n  selectOnNavigation: true,\n  wrapSelection: true\n};\nDropdown.autoControlledProps = ['open', 'searchQuery', 'selectedLabel', 'value', 'upward'];\nDropdown.Divider = DropdownDivider;\nDropdown.Header = DropdownHeader;\nDropdown.Item = DropdownItem;\nDropdown.Menu = DropdownMenu;\nDropdown.SearchInput = DropdownSearchInput;\nDropdown.Text = DropdownText;"]},"metadata":{},"sourceType":"module"}